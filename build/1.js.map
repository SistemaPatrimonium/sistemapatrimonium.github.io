{"version":3,"sources":["../../src/pages/user/user.module.ts","../../src/pages/user/user.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserPage } from './user';\n\n@NgModule({\n  declarations: [\n    UserPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserPage),\n  ],\n})\nexport class UserPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, AlertController } from 'ionic-angular';\nimport { User } from '../../models/user.dto';\nimport { UserService } from '../../services/user.service';\nimport { StorageService } from '../../services/storage.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-user',\n  templateUrl: 'user.html',\n})\nexport class UserPage {\n\n  users: User[];\n\n  constructor(public navCtrl: NavController, public userService: UserService, public storage: StorageService, public loadingCtrl: LoadingController, public alertCtrl: AlertController) {}\n\n  ionViewWillEnter() {\n    let loading = this.loadingCtrl.create();\n    loading.present();\n    this.userService.findAll()\n      .subscribe(response => {\n        this.users = response;\n        loading.dismiss();\n      },\n      error => {loading.dismiss();}\n    );\n  }\n\n  add() {\n    this.navCtrl.push('UserAddPage');\n  }\n\n  edit(user: User) {\n    this.navCtrl.push('UserDetailPage', {user: user});\n  }\n\n  askRemove(user: User) {\n    this.alertCtrl.create({\n      title: 'Confirmação',\n      message: `Deseja remover o usuário ${user.name}?`,\n      buttons: [\n        {\n          text: 'Não',\n          role: 'cancel'\n        },\n        {\n          text: 'Sim',\n          handler: () => {\n            this.remove(user);\n          }\n        }\n      ]\n    }).present();\n  }\n\n  remove(user: User) {\n    let loading = this.loadingCtrl.create();\n    loading.present();\n    this.userService.remove(user)\n      .subscribe(() => {\n        var index = this.users.findIndex(obj => obj.id === user.id);\n        if (index > -1) {\n          this.users.splice(index, 1);\n          loading.dismiss();\n        }\n      },\n      error => {loading.dismiss();}\n    );\n  }\n\n  isSameUser(user: User) : boolean {\n    return this.storage.getLocalUser().user.id === user.id;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts"],"sourceRoot":""}