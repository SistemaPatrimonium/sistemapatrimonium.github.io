{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AAUlC;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAR1B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uDAAQ;aACT;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;aACnC;SACF,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZe;AACwD;AAIxC;AAO1D;IAIE,kBAAmB,WAAwB,EAAS,OAAsB,EAAS,QAAwB,EAAS,WAA8B,EAAS,SAA0B;QAAlK,gBAAW,GAAX,WAAW,CAAa;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAFrL,gBAAW,GAAgB,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;IAE+H,CAAC;IAE1L,mCAAgB,GAAhB;QAAA,iBAiBC;QAhBC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAChC,IAAI,SAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YACxC,SAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE;iBAC5B,SAAS,CACR,kBAAQ;gBACN,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC9D,UAAU,CAAC;oBACT,SAAO,CAAC,OAAO,EAAE,CAAC;oBAClB,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,CAAC,EAAE,IAAI,CAAC,CAAC;YACX,CAAC,EACD,eAAK,IAAM,SAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAChC,CAAC;QACN,CAAC;IACH,CAAC;IAED,kCAAe,GAAf;QACE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,wBAAK,GAAL;QAAA,iBAcC;QAbC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACxC,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC;aAC5C,SAAS,CACR,kBAAQ;YACN,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;YAC9D,UAAU,CAAC;gBACT,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACnC,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC,EACD,eAAK,IAAK,OAAO,CAAC,OAAO,EAAE,CAAC,EAAC,CAC9B,CAAC;IACN,CAAC;IA3CU,QAAQ;QAJpB,gEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAKqL;OAJ1K,QAAQ,CA6CpB;IAAD,CAAC;AAAA;SA7CY,QAAQ,e","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, MenuController, LoadingController, AlertController } from 'ionic-angular';\n\nimport { Credentials } from '../../models/credentials.dto';\n\nimport { AuthService } from '../../services/auth.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  credentials: Credentials = { username: \"\", password: \"\" };\n\n  constructor(public authService: AuthService, public navCtrl: NavController, public menuCtrl: MenuController, public loadingCtrl: LoadingController, public alertCtrl: AlertController) { }\n\n  ionViewWillEnter() {\n    this.menuCtrl.swipeEnable(false);\n    if (this.authService.isLogged()) {\n      let loading = this.loadingCtrl.create();\n      loading.present();\n      this.authService.refreshToken()\n        .subscribe(\n          response => {\n            this.authService.login(response.headers.get('Authorization'));\n            setTimeout(() => {\n              loading.dismiss();\n              this.navCtrl.setRoot('MainPage');\n            }, 1200);\n          },\n          error => { loading.dismiss(); }\n        );\n    }\n  }\n\n  ionViewDidLeave() {\n    this.menuCtrl.swipeEnable(true);\n  }\n\n  login() {\n    let loading = this.loadingCtrl.create();\n    loading.present();\n    this.authService.authenticate(this.credentials)\n      .subscribe(\n        response => {\n          this.authService.login(response.headers.get('Authorization'));\n          setTimeout(() => {\n            loading.dismiss();\n            this.navCtrl.setRoot('MainPage');\n          }, 1200);\n        },\n        error => {loading.dismiss();}\n      );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}